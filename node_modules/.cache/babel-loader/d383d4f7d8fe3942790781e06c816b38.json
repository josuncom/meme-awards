{"ast":null,"code":"import { collection, getFirestore, getDocs, addDoc, doc, getDoc, setDoc } from \"firebase/firestore\";\nexport async function getData() {\n  const db = getFirestore();\n  const querySnapShot = await getDocs(collection(db, \"meme-awards\"));\n  querySnapShot.forEach(doc => {\n    console.log(doc.data());\n  });\n}\n\n// export async function setData() {\n//     const ipData = await fetch('https://geolocation-db.com/json/'); // 위치 정보 조회\n//     const locationIP = await ipData.json(); // 위치 정보에서 IP 주소 load\n//     const IP = locationIP.IPv4;\n//     const COOKIE_KEYS = 'isVoted';\n//     const [cookies, setCookies] = useCookies([COOKIE_KEYS]);\n\n//     // console.log(typeof(IP)); => string\n\n//     const db = getFirestore();\n//     const ipRef = doc(db, \"IP\", IP);\n//     const ipSnap = await getDoc(ipRef); \n\n//     if (ipSnap.exists()) {\n//         console.log(\"이미 있음!\");\n//       } else {\n//         console.log(ipRef);\n//         try {\n//             await setDoc(ipRef, {\n//                 IP : IP\n//             });\n//             console.log(\"Document written with ID: \", ipData.id);\n//           } catch (e) {\n//             console.error(\"Error adding document: \", e);\n//           }\n//     }\n// }","map":{"version":3,"names":["collection","getFirestore","getDocs","addDoc","doc","getDoc","setDoc","getData","db","querySnapShot","forEach","console","log","data"],"sources":["C:/Users/p-d0175/Desktop/meme-awards/src/Api.js"],"sourcesContent":["import { collection, getFirestore, getDocs, addDoc, doc, getDoc, setDoc } from \"firebase/firestore\";\r\n\r\nexport async function getData() {\r\n    const db = getFirestore();\r\n    const querySnapShot = await getDocs(collection(db, \"meme-awards\"));\r\n    querySnapShot.forEach((doc) => {\r\n        console.log(doc.data());\r\n    })\r\n}\r\n\r\n// export async function setData() {\r\n//     const ipData = await fetch('https://geolocation-db.com/json/'); // 위치 정보 조회\r\n//     const locationIP = await ipData.json(); // 위치 정보에서 IP 주소 load\r\n//     const IP = locationIP.IPv4;\r\n//     const COOKIE_KEYS = 'isVoted';\r\n//     const [cookies, setCookies] = useCookies([COOKIE_KEYS]);\r\n\r\n//     // console.log(typeof(IP)); => string\r\n\r\n//     const db = getFirestore();\r\n//     const ipRef = doc(db, \"IP\", IP);\r\n//     const ipSnap = await getDoc(ipRef); \r\n\r\n//     if (ipSnap.exists()) {\r\n//         console.log(\"이미 있음!\");\r\n//       } else {\r\n//         console.log(ipRef);\r\n//         try {\r\n//             await setDoc(ipRef, {\r\n//                 IP : IP\r\n//             });\r\n//             console.log(\"Document written with ID: \", ipData.id);\r\n//           } catch (e) {\r\n//             console.error(\"Error adding document: \", e);\r\n//           }\r\n//     }\r\n// }"],"mappings":"AAAA,SAASA,UAAU,EAAEC,YAAY,EAAEC,OAAO,EAAEC,MAAM,EAAEC,GAAG,EAAEC,MAAM,EAAEC,MAAM,QAAQ,oBAAoB;AAEnG,OAAO,eAAeC,OAAO,GAAG;EAC5B,MAAMC,EAAE,GAAGP,YAAY,EAAE;EACzB,MAAMQ,aAAa,GAAG,MAAMP,OAAO,CAACF,UAAU,CAACQ,EAAE,EAAE,aAAa,CAAC,CAAC;EAClEC,aAAa,CAACC,OAAO,CAAEN,GAAG,IAAK;IAC3BO,OAAO,CAACC,GAAG,CAACR,GAAG,CAACS,IAAI,EAAE,CAAC;EAC3B,CAAC,CAAC;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}